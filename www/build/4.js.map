{"version":3,"sources":["../../node_modules/img-comparison-slider/dist/esm/legacy/img-comparison-slider.entry.js"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qEAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,eAAe;AAClD,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,oBAAoB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,qEAAC,cAAc,qEAAC,SAAS,qBAAqB,0BAA0B,EAAE,EAAE,EAAE,qEAAC,UAAU,iBAAiB,IAAI,qEAAC,SAAS,qCAAqC,yBAAyB,EAAE,EAAE,EAAE,qEAAC,SAAS,gBAAgB,GAAG,qEAAC,SAAS,yBAAyB,EAAE,qEAAC,SAAS,qBAAqB,uCAAuC,EAAE,EAAE,EAAE,qEAAC,UAAU,gBAAgB;AACpX;AACA;AACA,0BAA0B,QAAQ,qEAAU,OAAO,EAAE;AACrD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,eAAe,4BAA4B,iBAAiB,qBAAqB,mBAAmB,wBAAwB,kBAAkB,qBAAqB,YAAY,gBAAgB,oBAAoB,UAAU,eAAe,uBAAuB,sBAAsB,oBAAoB,kBAAkB,eAAe,2BAA2B,yBAAyB,wBAAwB,sBAAsB,qBAAqB,iBAAiB,uBAAuB,mCAAmC,OAAO,kBAAkB,OAAO,MAAM,SAAS,4BAA4B,sBAAsB,gBAAgB,MAAM,kBAAkB,uBAAuB,wBAAwB,mCAAmC,QAAQ,QAAQ,yCAAyC,2CAA2C,mDAAmD,2CAA2C,mCAAmC,wDAAwD,8BAA8B,sBAAsB,8CAA8C,sCAAsC,oBAAoB,4BAA4B,gCAAgC,wBAAwB,eAAe,2CAA2C,mCAAmC,EAAE,EAAE;AACn3C;AACA;AACA,KAAK;AACL;AACA,CAAC;AACuD","file":"4.js","sourcesContent":["import { r as registerInstance, h, g as getElement } from './chunk-48aeaa03.js';\nvar inBetween = function (actual, min, max) {\n    if (actual < min) {\n        return min;\n    }\n    if (actual > max) {\n        return max;\n    }\n    return actual;\n};\nvar KeySlideOffset = {\n    'ArrowLeft': -1,\n    'ArrowRight': 1,\n};\nvar ImgComparisonSlider = /** @class */ (function () {\n    function ImgComparisonSlider(hostRef) {\n        registerInstance(this, hostRef);\n        this.exposure = 50;\n        this.isMouseDown = false;\n    }\n    ImgComparisonSlider.prototype.componentWillLoad = function () {\n        this.el.querySelectorAll('img').forEach(function (img) {\n            img.addEventListener('dragstart', function (e) {\n                e.preventDefault();\n            });\n        });\n    };\n    ImgComparisonSlider.prototype.componentDidRender = function () {\n        this.slide(0);\n        this.updateAfterWidth();\n        this.el.setAttribute('tabindex', '0');\n    };\n    ImgComparisonSlider.prototype.componentDidUnload = function () {\n        if (this.transitionTimer) {\n            window.clearTimeout(this.transitionTimer);\n        }\n    };\n    ImgComparisonSlider.prototype.slide = function (increment, transition) {\n        var _this = this;\n        if (increment === void 0) { increment = 0; }\n        if (transition === void 0) { transition = false; }\n        this.exposure = inBetween(this.exposure + increment, 0, 100);\n        if (transition) {\n            var transitionTime = 100;\n            this.after.style.transition = \"width \" + transitionTime + \"ms\";\n            this.transitionTimer = window.setTimeout(function () {\n                _this.after.style.transition = null;\n                _this.transitionTimer = null;\n            }, transitionTime);\n        }\n        this.after.style.width = this.exposure + \"%\";\n    };\n    ImgComparisonSlider.prototype.onKeyDown = function (e) {\n        if (this.keyboardSlideAnimationTimeoutId) {\n            return;\n        }\n        var key = e.key;\n        if (!Object.keys(KeySlideOffset).includes(key)) {\n            return;\n        }\n        this.startSlideAnimation(KeySlideOffset[key]);\n    };\n    ImgComparisonSlider.prototype.onKeyUp = function (e) {\n        if (!this.keyboardSlideAnimationTimeoutId) {\n            return;\n        }\n        if (!Object.keys(KeySlideOffset).includes(e.key)) {\n            return;\n        }\n        this.stopSlideAnimation();\n    };\n    ImgComparisonSlider.prototype.onMouseDown = function (e) {\n        this.isMouseDown = true;\n        this.slideToEvent(e, true);\n        this.el.focus();\n    };\n    ImgComparisonSlider.prototype.onMouseUp = function (e) {\n        this.isMouseDown = false;\n    };\n    ImgComparisonSlider.prototype.onMouseMove = function (e) {\n        if (this.isMouseDown) {\n            this.slideToEvent(e);\n        }\n    };\n    ImgComparisonSlider.prototype.onBlur = function () {\n        this.stopSlideAnimation();\n    };\n    ImgComparisonSlider.prototype.updateAfterWidth = function () {\n        this.imageWidth = this.el.offsetWidth;\n        this.afterImageContainer.style.width = this.el.offsetWidth + \"px\";\n    };\n    ImgComparisonSlider.prototype.slideToEvent = function (e, transition) {\n        if (transition === void 0) { transition = false; }\n        var x = e.pageX - this.el.offsetLeft;\n        this.exposure = (x / this.imageWidth) * 100;\n        this.slide(0, transition);\n    };\n    ImgComparisonSlider.prototype.startSlideAnimation = function (offset) {\n        var _this = this;\n        var fps = 120;\n        var fraction = 1 * offset;\n        var slide = function () {\n            _this.keyboardSlideAnimationTimeoutId = window.setTimeout(function () {\n                _this.animationRequestId = window.requestAnimationFrame(slide);\n            }, 1000 / fps);\n            _this.slide(fraction);\n        };\n        slide();\n    };\n    ImgComparisonSlider.prototype.stopSlideAnimation = function () {\n        if (!this.keyboardSlideAnimationTimeoutId) {\n            return;\n        }\n        window.clearTimeout(this.keyboardSlideAnimationTimeoutId);\n        window.cancelAnimationFrame(this.animationRequestId);\n        this.keyboardSlideAnimationTimeoutId = null;\n        this.animationRequestId = null;\n    };\n    ImgComparisonSlider.prototype.render = function () {\n        var _this = this;\n        return h(\"div\", null, h(\"div\", { ref: function (el) { return _this.before = el; } }, h(\"slot\", { name: \"before\" })), h(\"div\", { class: \"after\", ref: function (el) { return _this.after = el; } }, h(\"div\", { class: \"hint\" }), h(\"div\", { class: \"after-overlay\" }, h(\"div\", { ref: function (el) { return _this.afterImageContainer = el; } }, h(\"slot\", { name: \"after\" })))));\n    };\n    Object.defineProperty(ImgComparisonSlider.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ImgComparisonSlider, \"style\", {\n        get: function () { return \":host{--divider:1px solid #d7d7d7;--hint-size:40px;--hint-color:#d7d7d7;--hint-opacity:0.5;--hint-opacity-active:0;position:relative;display:inline-block;font-size:0;overflow:hidden}:host(:focus) .hint{opacity:0}::slotted(img){-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.component:hover .hint{opacity:var(--hint-opacity-active)}.after{position:absolute;left:0;top:0;bottom:0;border-right:var(--divider)}.after .after-overlay{overflow:hidden}.hint{position:absolute;width:var(--hint-size);height:var(--hint-size);background-color:var(--hint-color);top:50%;right:0;margin-top:calc(var(--hint-size) / (-2));margin-right:calc(var(--hint-size) / (-2));-webkit-transition:opacity 1s,-webkit-transform 1s;transition:opacity 1s,-webkit-transform 1s;transition:opacity 1s,transform 1s;transition:opacity 1s,transform 1s,-webkit-transform 1s;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 15px 0 rgba(0,0,0,.75);box-shadow:0 0 15px 0 rgba(0,0,0,.75);pointer-events:none;opacity:var(--hint-opacity);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.focused .hint{-webkit-transform:rotate(45deg) scale(1.5);transform:rotate(45deg) scale(1.5)}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return ImgComparisonSlider;\n}());\nexport { ImgComparisonSlider as img_comparison_slider };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/img-comparison-slider/dist/esm/legacy/img-comparison-slider.entry.js\n// module id = 282\n// module chunks = 4"],"sourceRoot":""}